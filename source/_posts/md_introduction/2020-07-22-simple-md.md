---
layout: post
title: '实现简单动力学的步骤'
subtitle: 'Basic steps to implement a simple molecular dynamics simulation'
date: '7/22/2020'
author: "Ming Huang"
head-img: "404-bg.jpg"
tags:
    -- Molecular Dynamics simulation
    -- GROMACS

---

## 前言
跟做实验类似，如果要跑动力学，我们需要最基本的三个文件

1. 坐标文件
2. 力场文件（拓扑文件）
3. 动力学模拟参数文件

不同动力学模拟软件的扩展名是不一样的，在GROMACS里面分别对应为.gro, .top 和 .mdp文件。只要我们有了正确的这三个文件，我们就可以开始动力学模拟

## 正文

### 准备体系
准备体系，换一句话说就是准备坐标文件和力场文件。首先我们得建立模型。模型简单来说就是一个文件包含了所有原子的坐标信息。通过这些原子坐标和可视化软件（VMD, Pymol etc.）我们就能够直观的观察到我们希望模拟的体系的正确性。有很多方法可以建立模型。这些方法根据科研的体系的不一样而不同。力场文件是根据模型来的，根据力场的不同，生成的方法也是不同的

#### 建模时候需要考虑的步骤
![123](404-bg.jpg)
1. 弄清希望研究体系的性质或者模拟过程中系统可能出现的性质
    * 不要急着继续。一定要弄清楚，你将要完成的动力学模拟能不能测试或者证明你的假设。不弄清楚的话，很有可能一个是浪费时间，另外一个是在分析的时候发现有一些必须的信息没有保存
2. 选择合适的工具来进行模拟，观察以及分析想要得到的体系的性质或者可能出现的现象。（这个可以通过阅读相关类似的文献找到对应的信息）
    * 调研什么应用什么软件来进行动力学模拟
    * 力场，调研系统中的粒子以什么形式互相作用在一起
    * 考虑如何分析你的模拟数据
3. 生成初始的结构文件。很多软件，工具或者脚本能够实现
    * 明确体系的特殊性，然后找到对应建模的方法
4. 建立动力学系统
    * 加水，离子，确定盒子大小, gmx solvate/genions/insert-molecules, genconf
5. 生成拓扑结构 
    * GMX自带的命令: gmx pdb2gmx, x2top, 
        * pdb2gmx, 用来把pdb文件解析成为gro, top和itp文件。这个对于标准的蛋白质体系很方便。因为标准的氨基酸的对应力场参数以一种残基的形式被记录在GROMACS/share/gromacs/top的对应力场文件夹的rtp文件里面。如果氨基酸被改性，没法匹配rtp文件中对应氨基酸的原子顺序，该命令就没法使用
    * SwissParam (CHARMM FF)
    * PRODRG ( GROMOS96 43A1)
    * Automated Topology Builder (GROMOS96 53A6)
    * MKTOP (OPLS/AA)
    * Antechamber acpype (AMBER FF)

### 

##### 参考资料

* [Preparation of system](%3Ca href="http://manual.gromacs.org/2019/user-guide/system-preparation.html"%3Ehttp://manual.gromacs.org/2019/user-guide/system-preparation.html%3C/a%3E)